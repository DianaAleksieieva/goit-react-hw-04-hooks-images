(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(6),o=c.n(r),s=(c(15),c(9)),i=c(3),l=(c(4),c(0)),u=function(e){var t=e.id,c=e.tags,n=e.image,a=e.onClick;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:n,alt:c,className:"ImageGalleryItem-image",onClick:a})},t)};c(17);function j(e){var t=e.image,c=e.onSelect;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,a=e.tags,r=e.largeImageURL;return Object(l.jsx)(u,{id:t,tags:a,image:n,largeImageURL:r,onClick:function(){return c({largeImageURL:r,tags:a})}})}))})}function m(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],r=c[1],o=function(){r("")};return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),""!==t.target.elements.query.value&&(e.onSubmit(a),o())},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},value:a,name:"query",className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var b=document.querySelector("#modal-root");function d(e){Object(n.useEffect)((function(){window.addEventListener("keydown",t)}));var t=function(t){"Escape"===t.code&&e.onClose()},c=e.srcImg,a=e.altImg;return Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(t){t.currentTarget===t.target&&e.onClose()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{width:"800",height:"600",src:c,alt:a})})}),b)}var h={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?key=16471285-08281fa67152cd8514adcae08&q=".concat(e,"&image_type=photo&orientation=horizontal&safesearch=true&page=").concat(t,"&per_page=12")).then((function(e){return e.ok?e.json():Promise.refect(new Error("EROR"))}))}},g=function(e){var t=e.onClick;return Object(l.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})},O=c(10),f=c.n(O),p="idle",x="pending",v="resolved";function S(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),b=u[0],O=u[1],S=Object(n.useState)(1),y=Object(i.a)(S,2),I=y[0],N=y[1],w=Object(n.useState)(p),k=Object(i.a)(w,2),C=k[0],E=k[1],F=Object(n.useState)(null),L=Object(i.a)(F,2),R=L[0],q=L[1];Object(n.useEffect)((function(){""!==a&&(E(v),h.fetchImages(a,I).then((function(e){return O((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))}))})))}),[a,I]),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});var U=function(e){q(e)};return Object(l.jsxs)("div",{children:[" ",Object(l.jsx)(m,{query:a,onSubmit:function(e){r(e),N(1),b!==[]&&O([])}}),C===p&&Object(l.jsx)("div",{className:"Message",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u0438\u0441\u043a."}),C===x&&Object(l.jsxs)("div",{className:"Wrapper",children:[Object(l.jsx)(f.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,"margin-top":150}),Object(l.jsx)(j,{image:b,onSelect:U,children:" "})]}),C===v&&Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{image:b,onSelect:U}),0!==b.length&&Object(l.jsx)(g,{onClick:function(){N((function(e){return e+1}))}}),b===[]&&Object(l.jsx)("div",{className:"Message",children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043f\u043e \u0434\u0430\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443"})]}),R&&Object(l.jsx)(d,{srcImg:R.largeImageURL,altImg:R.tags,onClose:function(){q(null)}})]})}o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))},4:function(e,t,c){}},[[38,1,2]]]);
//# sourceMappingURL=main.e8c5e459.chunk.js.map